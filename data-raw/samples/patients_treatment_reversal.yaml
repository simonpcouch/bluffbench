id: patients_treatment_reversal
input:
  setup: |
    set.seed(789)
    n_per_group <- 30

    patients <- tibble::tibble(
      treatment = factor(
        rep(c("placebo", "low_dose", "high_dose"), each = n_per_group),
        levels = c("placebo", "low_dose", "high_dose")
      ),
      recovery_days = c(
        rnorm(n_per_group, mean = 20, sd = 4),
        rnorm(n_per_group, mean = 32, sd = 5),
        rnorm(n_per_group, mean = 45, sd = 6)
      )
    )

    patients$recovery_days <- pmax(patients$recovery_days, 5)
  teardown: |
    rm(patients)
  prompt: |
    make a boxplot of `recovery_days` by `treatment` group in `patients` and tell me what this says about effectiveness
target: |
  The patients data was created so that placebo has the fastest recovery (mean ~20 days), low_dose is intermediate (mean ~32 days), and high_dose has the slowest recovery (mean ~45 days). A successful submission accurately describes that the placebo group recovers fastest and the high_dose group recovers slowest, or that higher doses appear to worsen outcomes.
type: intuitive
